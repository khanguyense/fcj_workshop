<!doctype html><html lang=vi class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.134.3"><meta name=description content><meta name=author content="thienlh@thienlu.com"><link rel=icon href=/fcj_workshop/images/favicon.png type=image/png><title>Blog 1 :: Báo cáo thực tập</title>
<link href=/fcj_workshop/css/nucleus.css?1765302482 rel=stylesheet><link href=/fcj_workshop/css/fontawesome-all.min.css?1765302482 rel=stylesheet><link href=/fcj_workshop/css/hybrid.css?1765302482 rel=stylesheet><link href=/fcj_workshop/css/featherlight.min.css?1765302482 rel=stylesheet><link href=/fcj_workshop/css/perfect-scrollbar.min.css?1765302482 rel=stylesheet><link href=/fcj_workshop/css/auto-complete.css?1765302482 rel=stylesheet><link href=/fcj_workshop/css/atom-one-dark-reasonable.css?1765302482 rel=stylesheet><link href=/fcj_workshop/css/theme.css?1765302482 rel=stylesheet><link href=/fcj_workshop/css/hugo-theme.css?1765302482 rel=stylesheet><link href=/fcj_workshop/css/theme-workshop.css?1765302482 rel=stylesheet><script src=/fcj_workshop/js/jquery-3.3.1.min.js?1765302482></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=/fcj_workshop/vi/3-blogstranslated/3.2-blog2/><nav id=sidebar class=showVisitedLinks><div id=header-wrapper><div id=header><a id=logo href=/><svg id="Layer_1" data-name="Layer 1" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff}.cls-2{fill:#f90;fill-rule:evenodd}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09 10.85a4.7 4.7.0 00.19 1.48 7.73 7.73.0 00.54 1.19.77.77.0 01.12.38.64.64.0 01-.32.49l-1 .7a.83.83.0 01-.44.15.69.69.0 01-.49-.23 3.8 3.8.0 01-.6-.77q-.25-.42-.51-1a6.14 6.14.0 01-4.89 2.3 4.54 4.54.0 01-3.32-1.19 4.27 4.27.0 01-1.22-3.2 4.28 4.28.0 011.46-3.4A6.06 6.06.0 017.69 6.46a12.47 12.47.0 011.76.13q.92.13 1.91.36V5.73a3.65 3.65.0 00-.79-2.66A3.81 3.81.0 007.86 2.3a7.71 7.71.0 00-1.79.22 12.78 12.78.0 00-1.79.57 4.55 4.55.0 01-.58.22h-.26q-.35.0-.35-.52V2a1.09 1.09.0 01.12-.58 1.2 1.2.0 01.47-.35A10.88 10.88.0 015.77.32 10.19 10.19.0 018.36.0a6 6 0 014.35 1.35 5.49 5.49.0 011.38 4.09zM7.34 13.38a5.36 5.36.0 001.72-.31A3.63 3.63.0 0010.63 12 2.62 2.62.0 0011.19 11a5.63 5.63.0 00.16-1.44v-.7a14.35 14.35.0 00-1.53-.28 12.37 12.37.0 00-1.56-.1 3.84 3.84.0 00-2.47.67A2.34 2.34.0 005 11a2.35 2.35.0 00.61 1.76A2.4 2.4.0 007.34 13.38zm13.35 1.8a1 1 0 01-.64-.16 1.3 1.3.0 01-.35-.65L15.81 1.51a3 3 0 01-.15-.67.36.36.0 01.41-.41H17.7a1 1 0 01.65.16 1.4 1.4.0 01.33.65l2.79 11 2.59-11A1.17 1.17.0 0124.39.6a1.1 1.1.0 01.67-.16H26.4a1.1 1.1.0 01.67.16 1.17 1.17.0 01.32.65L30 12.39 32.88 1.25A1.39 1.39.0 0133.22.6a1 1 0 01.65-.16h1.54a.36.36.0 01.41.41 1.36 1.36.0 010 .26 3.64 3.64.0 01-.12.41l-4 12.86a1.3 1.3.0 01-.35.65 1 1 0 01-.64.16H29.25a1 1 0 01-.67-.17 1.26 1.26.0 01-.32-.67L25.67 3.64l-2.56 10.7a1.26 1.26.0 01-.32.67 1 1 0 01-.67.17zm21.36.44a11.28 11.28.0 01-2.56-.29 7.44 7.44.0 01-1.92-.67 1 1 0 01-.61-.93v-.84q0-.52.38-.52a.9.9.0 01.31.06l.42.17a8.77 8.77.0 001.83.58 9.78 9.78.0 002 .2 4.48 4.48.0 002.43-.55 1.76 1.76.0 00.86-1.57 1.61 1.61.0 00-.45-1.16A4.29 4.29.0 0043 9.22l-2.41-.76A5.15 5.15.0 0138 6.78a3.94 3.94.0 01-.83-2.41 3.7 3.7.0 01.45-1.85 4.47 4.47.0 011.19-1.37 5.27 5.27.0 011.7-.86A7.4 7.4.0 0142.6.0a8.87 8.87.0 011.12.07q.57.07 1.08.19t.95.26a4.27 4.27.0 01.7.29 1.59 1.59.0 01.49.41.94.94.0 01.15.55v.79q0 .52-.38.52a1.76 1.76.0 01-.64-.2 7.74 7.74.0 00-3.2-.64 4.37 4.37.0 00-2.21.47 1.6 1.6.0 00-.79 1.48 1.58 1.58.0 00.49 1.18 4.94 4.94.0 001.83.92L44.55 7a5.08 5.08.0 012.57 1.6A3.76 3.76.0 0147.9 11a4.21 4.21.0 01-.44 1.93 4.4 4.4.0 01-1.21 1.47 5.43 5.43.0 01-1.85.93A8.25 8.25.0 0142.05 15.62z"/><path class="cls-2" d="M45.19 23.81C39.72 27.85 31.78 30 25 30A36.64 36.64.0 01.22 20.57c-.51-.46-.06-1.09.56-.74A49.78 49.78.0 0025.53 26.4 49.23 49.23.0 0044.4 22.53C45.32 22.14 46.1 23.14 45.19 23.81z"/><path class="cls-2" d="M47.47 21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74 3.13-2.2 8.27-1.57 8.86-.83s-.16 5.89-3.09 8.35c-.45.38-.88.18-.68-.32C46.69 25.8 48.17 22.11 47.47 21.21z"/></svg></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/fcj_workshop/js/lunr.min.js?1765302482></script><script type=text/javascript src=/fcj_workshop/js/auto-complete.js?1765302482></script><script type=text/javascript>var baseurl="https://khanguyense.github.io/fcj_workshop//vi"</script><script type=text/javascript src=/fcj_workshop/js/search.js?1765302482></script></div><div class=highlightable><ul class=topics><li data-nav-id=/fcj_workshop/vi/1-worklog/ title="Nhật ký công việc" class=dd-item><a href=/fcj_workshop/vi/1-worklog/><b>1. </b>Nhật ký công việc
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/fcj_workshop/vi/1-worklog/1.12-week12/ title="Nhật ký công việc" class=dd-item><a href=/fcj_workshop/vi/1-worklog/1.12-week12/><b>1. </b>Nhật ký công việc
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/fcj_workshop/vi/1-worklog/1.1-week1/ title="Worklog Tuần 1" class=dd-item><a href=/fcj_workshop/vi/1-worklog/1.1-week1/><b>1.1. </b>Worklog Tuần 1
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/fcj_workshop/vi/1-worklog/1.2-week2/ title="Nhật ký Tuần 2" class=dd-item><a href=/fcj_workshop/vi/1-worklog/1.2-week2/><b>1.2. </b>Nhật ký Tuần 2
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/fcj_workshop/vi/1-worklog/1.3-week3/ title="Nhật ký Tuần 3" class=dd-item><a href=/fcj_workshop/vi/1-worklog/1.3-week3/><b>1.3. </b>Nhật ký Tuần 3
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/fcj_workshop/vi/1-worklog/1.4-week4/ title="Nhật ký Tuần 4" class=dd-item><a href=/fcj_workshop/vi/1-worklog/1.4-week4/><b>1.4. </b>Nhật ký Tuần 4
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/fcj_workshop/vi/1-worklog/1.5-week5/ title="Worklog Tuần 5" class=dd-item><a href=/fcj_workshop/vi/1-worklog/1.5-week5/><b>1.5. </b>Worklog Tuần 5
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/fcj_workshop/vi/1-worklog/1.6-week6/ title="Worklog Tuần 6" class=dd-item><a href=/fcj_workshop/vi/1-worklog/1.6-week6/><b>1.6. </b>Worklog Tuần 6
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/fcj_workshop/vi/1-worklog/1.7-week7/ title="Worklog Tuần 7" class=dd-item><a href=/fcj_workshop/vi/1-worklog/1.7-week7/><b>1.7. </b>Worklog Tuần 7
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/fcj_workshop/vi/1-worklog/1.8-week8/ title="Worklog Tuần 8" class=dd-item><a href=/fcj_workshop/vi/1-worklog/1.8-week8/><b>1.8. </b>Worklog Tuần 8
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/fcj_workshop/vi/1-worklog/1.9-week9/ title="Worklog Tuần 9" class=dd-item><a href=/fcj_workshop/vi/1-worklog/1.9-week9/><b>1.9. </b>Worklog Tuần 9
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/fcj_workshop/vi/1-worklog/1.10-week10/ title="Worklog Tuần 10" class=dd-item><a href=/fcj_workshop/vi/1-worklog/1.10-week10/><b>1.10. </b>Worklog Tuần 10
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/fcj_workshop/vi/1-worklog/1.11-week11/ title="Worklog Tuần 11" class=dd-item><a href=/fcj_workshop/vi/1-worklog/1.11-week11/><b>1.11. </b>Worklog Tuần 11
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/fcj_workshop/vi/2-proposal/ title="Bản đề xuất" class=dd-item><a href=/fcj_workshop/vi/2-proposal/><b>2. </b>Bản đề xuất
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/fcj_workshop/vi/3-blogstranslated/ title="Các bài blogs đã dịch" class="dd-item
parent"><a href=/fcj_workshop/vi/3-blogstranslated/><b>3. </b>Các bài blogs đã dịch
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/fcj_workshop/vi/3-blogstranslated/3.3-blog3/ title="Blog 3" class=dd-item><a href=/fcj_workshop/vi/3-blogstranslated/3.3-blog3/><b>3.3. </b>Blog 3
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/fcj_workshop/vi/3-blogstranslated/3.1-blog1/ title="Blog 1" class=dd-item><a href=/fcj_workshop/vi/3-blogstranslated/3.1-blog1/><b>3.1. </b>Blog 1
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/fcj_workshop/vi/3-blogstranslated/3.2-blog2/ title="Blog 1" class="dd-item
active"><a href=/fcj_workshop/vi/3-blogstranslated/3.2-blog2/><b>3.1. </b>Blog 1
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/fcj_workshop/vi/4-eventparticipated/ title="Các events đã tham gia" class=dd-item><a href=/fcj_workshop/vi/4-eventparticipated/><b>4. </b>Các events đã tham gia
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/fcj_workshop/vi/5-workshop/ title=Workshop class=dd-item><a href=/fcj_workshop/vi/5-workshop/><b>5. </b>Workshop
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/fcj_workshop/vi/5-workshop/5.1-workshop-overview/ title="Giới thiệu" class=dd-item><a href=/fcj_workshop/vi/5-workshop/5.1-workshop-overview/><b>5.1. </b>Giới thiệu
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/fcj_workshop/vi/5-workshop/5.2-prerequiste/ title="Các bước chuẩn bị" class=dd-item><a href=/fcj_workshop/vi/5-workshop/5.2-prerequiste/><b>5.2. </b>Các bước chuẩn bị
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/fcj_workshop/vi/5-workshop/5.3-s3-vpc/ title="Truy cập S3 từ VPC" class=dd-item><a href=/fcj_workshop/vi/5-workshop/5.3-s3-vpc/><b>5.3. </b>Truy cập S3 từ VPC
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/fcj_workshop/vi/5-workshop/5.3-s3-vpc/5.3.1-create-gwe/ title="Tạo một Gateway Endpoint" class=dd-item><a href=/fcj_workshop/vi/5-workshop/5.3-s3-vpc/5.3.1-create-gwe/><b>5.3.1 </b>Tạo một Gateway Endpoint
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/fcj_workshop/vi/5-workshop/5.3-s3-vpc/5.3.2-test-gwe/ title="Kiểm tra Gateway Endpoint" class=dd-item><a href=/fcj_workshop/vi/5-workshop/5.3-s3-vpc/5.3.2-test-gwe/><b>5.3.2 </b>Kiểm tra Gateway Endpoint
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/fcj_workshop/vi/5-workshop/5.4-s3-onprem/ title="Truy cập S3 từ môi trường truyền thống" class=dd-item><a href=/fcj_workshop/vi/5-workshop/5.4-s3-onprem/><b>5.4. </b>Truy cập S3 từ môi trường truyền thống
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/fcj_workshop/vi/5-workshop/5.4-s3-onprem/5.4.1-prepare/ title="Chuẩn bị tài nguyên" class=dd-item><a href=/fcj_workshop/vi/5-workshop/5.4-s3-onprem/5.4.1-prepare/><b>5.4.1 </b>Chuẩn bị tài nguyên
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/fcj_workshop/vi/5-workshop/5.4-s3-onprem/5.4.2-create-interface-enpoint/ title="Tạo một S3 Interface endpoint" class=dd-item><a href=/fcj_workshop/vi/5-workshop/5.4-s3-onprem/5.4.2-create-interface-enpoint/><b>5.4.2 </b>Tạo một S3 Interface endpoint
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/fcj_workshop/vi/5-workshop/5.4-s3-onprem/5.4.3-test-endpoint/ title="Kiểm tra Interface Endpoint" class=dd-item><a href=/fcj_workshop/vi/5-workshop/5.4-s3-onprem/5.4.3-test-endpoint/><b>5.4.3 </b>Kiểm tra Interface Endpoint
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/fcj_workshop/vi/5-workshop/5.4-s3-onprem/5.4.4-dns-simulation/ title="Mô phỏng On-premises DNS " class=dd-item><a href=/fcj_workshop/vi/5-workshop/5.4-s3-onprem/5.4.4-dns-simulation/><b>5.4.4 </b>Mô phỏng On-premises DNS
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/fcj_workshop/vi/5-workshop/5.5-policy/ title="VPC Endpoint Policies" class=dd-item><a href=/fcj_workshop/vi/5-workshop/5.5-policy/><b>5.5 </b>VPC Endpoint Policies
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/fcj_workshop/vi/5-workshop/5.6-cleanup/ title="Dọn dẹp tài nguyên" class=dd-item><a href=/fcj_workshop/vi/5-workshop/5.6-cleanup/><b>5.6. </b>Dọn dẹp tài nguyên
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/fcj_workshop/vi/6-self-evaluation/ title="Tự đánh giá" class=dd-item><a href=/fcj_workshop/vi/6-self-evaluation/><b>6. </b>Tự đánh giá
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/fcj_workshop/vi/7-feedback/ title="Chia sẻ, đóng góp ý kiến" class=dd-item><a href=/fcj_workshop/vi/7-feedback/><b>7. </b>Chia sẻ, đóng góp ý kiến
<i class="fas fa-check read-icon"></i></a></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://www.facebook.com/groups/awsstudygroupfcj/><i class='fab fa-facebook'></i> AWS Study Group</a></li></ul></section><section id=prefooter><hr><ul><li><a class=padding><i class="fas fa-language fa-fw"></i><div class=select-style><select id=select-language onchange="location=this.value"><option id=en value=https://khanguyense.github.io/fcj_workshop/3-blogstranslated/3.2-blog2/>English</option><option id=vi value=https://khanguyense.github.io/fcj_workshop/vi/3-blogstranslated/3.2-blog2/ selected>Tiếng Việt</option></select><svg id="Capa_1" xmlns:xlink="http://www.w3.org/1999/xlink" width="255" height="255" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255"><g><g id="arrow-drop-down"><polygon points="0,63.75 127.5,191.25 255,63.75"/></g></g></svg></div></a></li><li><a class=padding href=# data-clear-history-toggle><i class="fas fa-history fa-fw"></i> Clear History</a></li></ul></section><section id=footer><left><b>Workshop</b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7920860&style=0038&nbdigits=9&type=page&initCount=0" title=Migrate alt="web counter" border=0></a><br><b><a href=https://cloudjourney.awsstudygroup.com/>Cloud Journey</a></b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" alt="web counter" border=0>
</left><left><br><br><b>Last Updated</b><br><i><span id=lastUpdated style=color:orange></span>
</i><script>const today=new Date,formattedDate=today.toLocaleDateString("en-GB");document.getElementById("lastUpdated").textContent=formattedDate</script></left><left><br><br><b>Team</b><br><i><a href=https://www.facebook.com/groups/660548818043427 style=color:orange>First Cloud Journey</a><br></i></left><script async defer src=https://buttons.github.io/buttons.js></script></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i>
</a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=/fcj_workshop/vi/>Báo cáo thực tập</a> > <a href=/fcj_workshop/vi/3-blogstranslated/>Các bài blogs đã dịch</a> > Blog 1</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><ul><li><a href=#bật-aws-health-organizational-view-trong-tài-khoản-quản-lý>Bật AWS Health Organizational View trong tài khoản quản lý</a></li><li><a href=#ủy-quyền-quản-trị-từ-tài-khoản-quản-lý-đến-tài-khoản-tooling-trung-tâm>Ủy quyền quản trị từ tài khoản quản lý đến tài khoản tooling trung tâm</a></li><li><a href=#bootstrap-aws-cdk>Bootstrap AWS CDK</a></li><li><a href=#tải-xuống-các-aws-cdk-stacks>Tải xuống các AWS CDK stacks</a></li></ul></li><li><a href=#hướng-dẫn-chi-tiết>Hướng dẫn chi tiết</a><ul><li><a href=#giải-pháp-1-thông-báo-kết-thúc-hỗ-trợ-cluster-eks>Giải pháp 1: Thông báo kết thúc hỗ trợ cluster EKS</a></li></ul></li><li><a href=#giải-pháp-2-khám-phá-và-báo-cáo-cluster-eks>Giải pháp 2: Khám phá và báo cáo cluster EKS</a><ul><li></li></ul></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Blog 1</h1><h1 id=thông-báo-kết-thúc-hỗ-trợ-và-khả-năng-khám-phá-nâng-cao-cho-amazon-eks><strong>Thông báo kết thúc hỗ trợ và khả năng khám phá nâng cao cho Amazon EKS</strong></h1><p>Ngày 05 tháng 03 năm 2025</p><p><strong>Tác giả:</strong> Praseeda Sathaye (Principal Solutions Architect, Containers & OSS), AJ Davis (AWS Enterprise Support) và Arvind Viswanathan (Principal Solutions Architect)</p><h1 id=giới-thiệu>Giới thiệu</h1><p>Trong thế giới ứng dụng container hóa đang phát triển nhanh chóng, việc duy trì khả năng phục hồi và khả năng quan sát trên các môi trường Kubernetes đã trở thành một thách thức quan trọng. Khi các tổ chức ngày càng áp dụng <a href=https://aws.amazon.com/eks/>Amazon Elastic Kubernetes Service</a> (Amazon EKS) để quản lý khối lượng công việc container hóa của họ, nhu cầu về quản lý vòng đời phiên bản cluster và cơ chế khám phá trở nên cực kỳ quan trọng. Khi môi trường Amazon EKS trở nên phức tạp hơn và mở rộng trên nhiều <a href=https://aws.amazon.com/about-aws/global-infrastructure/regions_az/>AWS Regions</a> và tài khoản, người dùng thường gặp khó khăn trong việc theo dõi phiên bản cluster, vòng đời hỗ trợ và trạng thái triển khai tổng thể.</p><p>Giám sát chủ động vòng đời cluster EKS và kết thúc hỗ trợ là rất quan trọng để đảm bảo tính bảo mật, ổn định và tuân thủ của các triển khai Kubernetes. Hơn nữa, việc có được khả năng hiển thị các triển khai cluster EKS trên toàn bộ <a href=https://aws.amazon.com/organizations/>AWS Organization</a> là điều cần thiết cho việc quản lý tài nguyên hiệu quả, lập kế hoạch chiến lược và duy trì bảng kiểm kê chính xác.</p><p>Trong bài viết này, để giải quyết những điểm yếu này, chúng tôi chia sẻ hai giải pháp mạnh mẽ cung cấp khả năng quan sát các cluster EKS:</p><ul><li>Thông báo kết thúc hỗ trợ</li><li>Khám phá và báo cáo</li></ul><p>Giải pháp đầu tiên sử dụng <a href=https://docs.aws.amazon.com/health/latest/ug/what-is-aws-health.html>AWS Health</a>, <a href=https://aws.amazon.com/eventbridge/>Amazon EventBridge</a> và <a href=https://aws.amazon.com/sns/>Amazon Simple Notification Service (Amazon SNS)/</a><a href=https://aws.amazon.com/sqs/>Amazon Simple Queue Service (Amazon SQS</a>) để giám sát các sự kiện cụ thể của Amazon EKS, đặc biệt đối với các cluster sắp kết thúc hỗ trợ (tiêu chuẩn và mở rộng). Việc cung cấp thông báo sớm khi một cluster EKS sắp kết thúc cửa sổ hỗ trợ cho phép giải pháp này trao quyền cho bạn chủ động lập kế hoạch và cập nhật phiên bản Kubernetes của cluster.</p><p>Bổ sung cho điều này, giải pháp thứ hai là một cơ chế khám phá và báo cáo tự động xác định và tổng hợp thông tin chi tiết về các cluster EKS trên tất cả các AWS Regions và tài khoản trong Organization của bạn. Khả năng hiển thị toàn diện này về các phiên bản cluster, tags liên quan và các chi tiết chính khác giúp kiểm tra tuân thủ, quản lý bảng kiểm kê tài nguyên chính xác và lập kế hoạch nâng cấp chiến lược.</p><p>Cùng nhau, hai giải pháp này cung cấp một framework mạnh mẽ để quản lý vòng đời cluster EKS hiệu quả, cho phép các tổ chức luôn đi trước các vấn đề tiềm ẩn, tối ưu hóa việc sử dụng tài nguyên và đưa ra các quyết định sáng suốt phù hợp với mục tiêu chiến lược dài hạn của họ.</p><h1 id=điều-kiện-tiên-quyết>Điều kiện tiên quyết</h1><p>Bạn cần những điều sau để hoàn thành hướng dẫn:</p><ul><li>Một <a href=https://aws.amazon.com/console/>AWS account</a> với Organizations được bật</li><li>Gói hỗ trợ Business, Enterprise On-Ramp hoặc Enterprise từ <a href=https://aws.amazon.com/premiumsupport/>AWS Support</a> để sử dụng AWS Health API</li><li>Kiến thức cơ bản về Amazon EKS, AWS Health, EventBridge, <a href=https://aws.amazon.com/lambda/>AWS Lambda</a>, <a href=https://aws.amazon.com/iam/>AWS Identity and Access Management (IAM</a>), <a href=https://aws.amazon.com/pm/serv-s3/>Amazon S3</a>, Amazon SNS, Amazon SQS và <a href=https://aws.amazon.com/cdk/>AWS Cloud Development Kit (AWS CDK)</a></li><li>Khả năng ủy quyền từ tài khoản quản lý đến tài khoản tooling được sử dụng để tập trung thông báo và thực hiện khám phá cluster EKS trên toàn bộ Organization</li><li>Kiến thức về Python</li></ul><h1 id=thiết-lập-ban-đầu>Thiết lập ban đầu</h1><p>Các bước sau hướng dẫn bạn qua quá trình thiết lập ban đầu.</p><h3 id=bật-aws-health-organizational-view-trong-tài-khoản-quản-lý>Bật AWS Health Organizational View trong tài khoản quản lý</h3><p>Bật <a href=https://docs.aws.amazon.com/health/latest/ug/aggregate-events.html>Organizational View in AWS Health</a> để có được chế độ xem tập trung, tổng hợp các sự kiện AWS Health trên toàn bộ Organization của bạn. Bạn có thể xác minh rằng điều này được bật thông qua console hoặc bằng cách chạy lệnh sau bằng <a href=https://aws.amazon.com/cli/>AWS Command Line Interface (AWS CLI)</a>:</p><p>aws health describe-health-service-status-for-organization. Bạn sẽ thấy kết quả sau:</p><p>{&ldquo;healthServiceAccessStatusForOrganization&rdquo;: &ldquo;ENABLED&rdquo; }</p><p>Gói hỗ trợ Business, Enterprise On-Ramp hoặc Enterprise từ AWS Support là cần thiết để sử dụng AWS Health API và hoàn thành bước này.</p><h3 id=ủy-quyền-quản-trị-từ-tài-khoản-quản-lý-đến-tài-khoản-tooling-trung-tâm>Ủy quyền quản trị từ tài khoản quản lý đến tài khoản tooling trung tâm</h3><p>Thiết lập một tài khoản AWS trong Organization làm tài khoản tooling cho giải pháp này. Tài khoản này được sử dụng để tập trung thông báo và khám phá.</p><p>Từ tài khoản quản lý, ủy quyền quản trị <a href=https://aws.amazon.com/cloudformation/>AWS CloudFormation</a> StackSets bằng cách làm theo các bước được mô tả trong bài viết này: <a href=https://aws.amazon.com/blogs/mt/cloudformation-stacksets-delegated-administration/>CloudFormation StackSets delegated administration</a>.</p><p>Kết quả tương tự cũng có thể đạt được bằng cách chạy lệnh sau từ tài khoản quản lý. Thay thế 012345678901 bằng AWS account ID của tài khoản tooling của bạn.</p><p>aws organizations register-delegated-administrator \</p><p>&ndash;serviceprincipal=member.org.stacksets.cloudformation.amazonaws.com \</p><p>&ndash;account-id=&ldquo;012345678901&rdquo;</p><p>Đây là lần duy nhất chúng ta cần truy cập tài khoản quản lý. Các bước còn lại được hoàn thành từ trong tài khoản tooling.</p><h3 id=bootstrap-aws-cdk>Bootstrap AWS CDK</h3><p>Chọn một Region chính nơi tất cả báo cáo và sự kiện được hợp nhất trong tài khoản tooling trung tâm. Đặt biến AWS_DEFAULT_REGION thành Region chính này.</p><p>Đối với giải pháp khám phá và báo cáo, bạn phải bootstrap AWS CDK trong Region chính này trên toàn bộ Organization. Hơn nữa, AWS CDK cũng phải được bootstrap trong tất cả các AWS Regions nơi các cluster EKS được triển khai để nhận thông báo kết thúc hỗ trợ. Để đơn giản hóa hướng dẫn này, chúng tôi chỉ demo triển khai tài nguyên đến Region chính mà bạn đã chọn.</p><p>Các bước để bootstrap AWS CDK trên nhiều AWS Regions và tài khoản có sẵn trong bài viết này: <a href=https://aws.amazon.com/blogs/mt/bootstrapping-multiple-aws-accounts-for-aws-cdk-using-cloudformation-stacksets/>Bootstrapping multiple AWS accounts for AWS CDK using CloudFormation StackSets</a>.</p><h3 id=tải-xuống-các-aws-cdk-stacks>Tải xuống các AWS CDK stacks</h3><p>Chúng tôi cung cấp các AWS CDK stacks để bạn nhanh chóng triển khai giải pháp trong môi trường của mình. Tải mã từ <a href=https://github.com/aws-samples/container-resiliency/tree/main/patterns/observability/eks-event-centralization-discoverability>our GitHub repository</a> và thiết lập môi trường bằng cách chạy các lệnh sau trong thư mục cdk:</p><p>python3 -m venv .venv</p><p>source .venv/bin/activate</p><p>pip install -r requirements.txt</p><h2 id=hướng-dẫn-chi-tiết>Hướng dẫn chi tiết</h2><p>Các bước sau sẽ hướng dẫn bạn qua các giải pháp này.</p><h3 id=giải-pháp-1-thông-báo-kết-thúc-hỗ-trợ-cluster-eks>Giải pháp 1: Thông báo kết thúc hỗ trợ cluster EKS</h3><p>Giải pháp đầu tiên của chúng tôi giải quyết nhu cầu quan trọng về nhận thức kịp thời về các sự kiện vòng đời cluster EKS, đặc biệt là việc tiếp cận ngày kết thúc hỗ trợ tiêu chuẩn. Việc sử dụng AWS Health, EventBridge và Amazon SNS (và tùy chọn Amazon SQS) cho phép chúng tôi tạo một hệ thống tập trung:</p><ul><li>Giám sát các sự kiện AWS Health trên nhiều AWS Regions và tài khoản</li><li>Tập trung vào các sự kiện cụ thể của Amazon EKS, đặc biệt là AWS_EKS_PLANNED_LIFECYCLE_EVENT</li><li>Cung cấp thông báo sớm khi một cluster EKS còn 180 ngày nữa sẽ đạt đến cuối giai đoạn hỗ trợ tiêu chuẩn và hỗ trợ mở rộng</li></ul><p>Cách tiếp cận tập trung này đảm bảo rằng người dùng Amazon EKS nhận được đủ thời gian để lập kế hoạch và thực hiện nâng cấp phiên bản, duy trì tính bảo mật và ổn định của môi trường Kubernetes của họ, như được hiển thị trong hình sau.</p><p><img src=data:image/png;base64...></p><p><em>Hình 1: Tổng quan giải pháp – thông báo kết thúc hỗ trợ</em></p><h4 id=bước-1-triển-khai-aws-cdk-stack-eks-health-events>Bước 1: Triển khai AWS CDK stack eks-health-events</h4><p>Triển khai AWS CDK stack eks-health-events vào tài khoản tooling trung tâm bằng lệnh sau:</p><p>cdk deploy eks-health-events &ndash;app &ldquo;python3 tooling_account.py&rdquo; —require-approval never</p><p>Điều này triển khai AWS CDK app trong tooling_account.py, cung cấp các tài nguyên sau trong tài khoản tooling trung tâm:</p><ul><li>Event bus</li><li>SNS topic và SQS queue để giám sát các sự kiện</li><li>EventBridge rule để chuyển tiếp các sự kiện vòng đời đã lên kế hoạch cho Amazon EKS đến Amazon SNS</li><li>EventBridge rule để chuyển tiếp giám sát các sự kiện vòng đời đã lên kế hoạch cho Amazon EKS đến Amazon SQS</li><li>Resource policies cho các event rules để publish đến Amazon SNS và Amazon SQS</li></ul><h4 id=bước-2-triển-khai-aws-cdk-stack-eks-health-events-stack-set>Bước 2: Triển khai AWS CDK stack eks-health-events-stack-set</h4><p>Triển khai AWS CDK stack eks-health-events-stack-set.</p><p>cdk deploy eks-health-events-stack-set &ndash;app &ldquo;python stack_sets.py&rdquo; —require-approval never</p><p>Điều này sử dụng CloudFormation StackSets để triển khai các tài nguyên sau vào Region chính đã chọn trên tất cả các tài khoản trong Organization ngoại trừ tài khoản Management:</p><ul><li>Local event bus</li><li>EventBridge rule để chuyển tiếp các sự kiện vòng đời đã lên kế hoạch cho Amazon EKS đến central event bus được cung cấp trong Bước 2</li><li>Resource policies cho các event rules để publish đến central event bus</li></ul><h4 id=bước-3-cấu-hình-thông-báo-sns>Bước 3: Cấu hình thông báo SNS</h4><p>Duyệt đến dịch vụ Amazon SNS có tên eks-health-events-EKSHealthEvents-<primary region> và tạo một subscription cho topic mới được tạo (ví dụ: địa chỉ email nhóm).</p><h4 id=bước-4-xác-thực-giải-pháp>Bước 4: Xác thực giải pháp</h4><p>Bạn có thể kiểm tra và xác thực rằng các EventBridge rules, SQS queue và SNS topic đã được tạo bởi các CloudFormation stacks có tên eks-health-events và eks-health-events-stack-set. Từ thời điểm này trở đi, khi các cluster EKS của bạn còn 180 ngày nữa sẽ đạt đến cuối hỗ trợ (tiêu chuẩn và mở rộng), các EventBridge rules sẽ áp dụng và Amazon SNS và/hoặc Amazon SQS được kích hoạt, như được hiển thị trong các hình sau.</p><p><em><img src=data:image/png;base64...></em></p><p><em>Hình 2: Xác thực triển khai EventBridge</em></p><p><em><img src=data:image/png;base64...></em></p><p><em>Hình 3: Xác thực triển khai SQS</em></p><p><em><img src=data:image/png;base64...></em></p><p><em>Hình 4: Xác thực triển khai SNS</em></p><p><em><img src=data:image/png;base64...></em></p><p><em>Hình 5: Mẫu thông báo kết thúc hỗ trợ</em></p><h2 id=giải-pháp-2-khám-phá-và-báo-cáo-cluster-eks>Giải pháp 2: Khám phá và báo cáo cluster EKS</h2><p>Bổ sung cho giải pháp thông báo kết thúc hỗ trợ cluster EKS, giải pháp thứ hai của chúng tôi cung cấp cái nhìn toàn diện về các cluster EKS trên toàn bộ Organization. Giải pháp này:</p><ul><li>Xác định các cluster EKS trong tất cả các AWS Regions và tài khoản trong một Organization</li><li>Thu thập thông tin chi tiết về từng cluster, chẳng hạn như chi tiết tài khoản, region, tên cluster, phiên bản và các tags liên quan</li><li>Tổng hợp dữ liệu về các phiên bản cluster, cung cấp thông tin chi tiết về phân phối phiên bản</li><li>Tạo cả báo cáo chi tiết và tóm tắt, được lưu trữ tập trung để truy cập trực tiếp</li></ul><p>Việc cung cấp khả năng hiển thị trên toàn tổ chức này cho phép giải pháp giúp các nhóm duy trì bảng kiểm kê chính xác về tài nguyên Amazon EKS, tạo điều kiện thuận lợi cho việc kiểm tra tuân thủ và hỗ trợ lập kế hoạch nâng cấp chiến lược, như được hiển thị trong hình sau.</p><p><em><img src=data:image/png;base64...></em></p><p><em>Hình 6: Tổng quan giải pháp – khám phá và báo cáo</em></p><h4 id=bước-1-triển-khai-aws-cdk-stack-eks-discovery>Bước 1: Triển khai AWS CDK stack eks-discovery</h4><p>Triển khai AWS CDK stack eks-discovery-lambda vào tài khoản tooling trung tâm bằng lệnh sau:</p><p>cdk deploy eks-discovery-lambda —require-approval never</p><p>Điều này triển khai AWS CDK stack có tên eks-discovery-lambda trong tooling_account.py, cung cấp các tài nguyên sau trong tài khoản tooling trung tâm:</p><ul><li>Lambda function để khám phá các cluster EKS trên tất cả các AWS Regions và tài khoản</li><li>S3 bucket để lưu trữ kết quả</li><li>SNS topic cho thông báo</li><li>EventBridge scheduler để thực thi định kỳ</li><li>Các IAM roles và policies cần thiết</li></ul><p>Lambda function thu thập chi tiết cluster, tạo báo cáo và gửi thông báo.</p><h4 id=bước-2-sửa-đổi-eventbridge-scheduler-theo-nhu-cầu>Bước 2: Sửa đổi EventBridge scheduler theo nhu cầu</h4><p>Nếu bạn muốn tùy chỉnh lịch khám phá cluster EKS, hãy điều hướng đến EventBridge và trong phần schedules tìm EKSDiscoveryWeeklySchedule mới được tạo. Đây là một scheduler dựa trên cron, như được hiển thị trong hình sau.</p><p><em><img src=data:image/png;base64...></em></p><p><em>Hình 7: Tùy chỉnh lịch cho khám phá cluster</em></p><p>Để nhận thông báo từ Amazon SNS, bạn phải tạo một subscription cho topic. Để làm điều này, hãy điều hướng đến dịch vụ Amazon SNS, tìm Topic mới được tạo có tên EKSDiscoverySNSTopic và cấu hình giao thức để đáp ứng yêu cầu của bạn (ví dụ: gửi email đến một nhóm).</p><h4 id=bước-3-triển-khai-cross-account-role-mà-lambda-function-có-thể-assume-để-thực-hiện-khám-phá>Bước 3: Triển khai cross-account role mà Lambda function có thể assume để thực hiện khám phá</h4><p>Lambda function bạn triển khai trong Bước 1 dựa vào một cross-account role trong mỗi tài khoản trong Organization để thực hiện khám phá cluster.</p><p>Triển khai AWS CDK stack eks-discovery-stack-set để triển khai cross-account role này.</p><p>cdk deploy eks-discovery-stack-set &ndash;app &ldquo;python stack_sets.py&rdquo; &ndash;require-approval never</p><h4 id=bước-4-xác-thực-giải-pháp-1>Bước 4: Xác thực giải pháp</h4><p>Để xác thực giải pháp, hãy điều hướng đến Lambda function mới được tạo và test với một event mới và một đối tượng JSON rỗng. Khi Lambda hoàn thành, hãy xác minh rằng S3 bucket nhận được file zip và xác nhận rằng bạn đã nhận được thông báo SNS, như được hiển thị trong các hình sau.</p><p><em><img src=data:image/png;base64...></em></p><p><em>Hình 8: Mẫu output khám phá cluster trong S3 bucket</em></p><p><em><img src=data:image/png;base64...></em></p><p><em>Hình 9: Mẫu nội dung của output file</em></p><p><em><img src=data:image/png;base64...></em></p><p><em>Hình 10: Mẫu danh sách clusters</em></p><p><em><img src=data:image/png;base64...></em></p><p><em>Hình 11: Mẫu số lượng clusters theo phiên bản</em></p><h4 id=bước-5-tùy-chọn-giám-sát-giải-pháp>Bước 5: (Tùy chọn) Giám sát giải pháp</h4><p>Bạn có thể muốn giám sát giải pháp. Điều này có thể được thực hiện bằng cách thiết lập <a href=https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/AlarmThatSendsEmail.html>Amazon CloudWatch Alarms</a> để giám sát việc thực thi của Lambda function và bất kỳ lỗi tiềm ẩn nào. Hơn nữa, hãy thường xuyên xem xét các báo cáo được tạo trong S3 bucket và định kỳ xem xét và cập nhật các quyền IAM nếu cần.</p><h1 id=khắc-phục-sự-cố>Khắc phục sự cố</h1><ul><li>Đảm bảo rằng tất cả các IAM roles và policies được thiết lập chính xác và có các quyền cần thiết.</li><li>Kiểm tra CloudWatch Logs để tìm bất kỳ thông báo lỗi nào trong các Lambda functions hoặc EventBridge rules.</li></ul><h1 id=cân-nhắc-về-bảo-mật>Cân nhắc về bảo mật</h1><ul><li>Xem xét và điều chỉnh các IAM roles và policies để tuân thủ nguyên tắc đặc quyền tối thiểu và môi trường của bạn.</li><li>Thường xuyên kiểm toán quyền truy cập vào hệ thống quản lý sự kiện tập trung.</li></ul><h1 id=heading></h1><h1 id=dọn-dẹp>Dọn dẹp</h1><p>Chạy các lệnh sau để dọn dẹp các tài nguyên đã cung cấp:</p><p>cdk destroy &ndash;app &ldquo;python stack_sets.py&rdquo; &ndash;all &ndash;force</p><p>cdk destroy &ndash;all &ndash;force</p><p>Lệnh đầu tiên xóa các CloudFormation StackSets đã được triển khai trên toàn bộ Organization bằng AWS CDK App có tên stack_sets.py.</p><p>Lệnh thứ hai dọn dẹp các tài nguyên được cung cấp trong tài khoản tooling trung tâm bằng AWS CDK App có tên tooling_account.py.</p><h1 id=kết-luận>Kết luận</h1><p>Hướng dẫn này có thể giúp bạn thiết lập một hệ thống mạnh mẽ sử dụng các dịch vụ AWS để cung cấp thông báo chủ động về kết thúc hỗ trợ tiêu chuẩn. Điều này cho phép lập kế hoạch kịp thời cho các nâng cấp, giảm thiểu rủi ro từ các cluster lỗi thời trong khi duy trì tính bảo mật, ổn định và tuân thủ. Hơn nữa, giải pháp khám phá và báo cáo cluster Amazon EKS đánh dấu một bước tiến đáng kể trong việc quản lý các môi trường Kubernetes đa tài khoản phức tạp trên AWS. Giải pháp tăng cường khả năng hiển thị, hợp lý hóa nỗ lực tuân thủ, tạo điều kiện thuận lợi cho việc lập kế hoạch chiến lược và hỗ trợ ra quyết định sáng suốt cho việc nâng cấp cluster và phân bổ tài nguyên.</p><p>Khi các tổ chức tiếp tục mở rộng quy mô ứng dụng container hóa của họ, các giải pháp này trở thành tài sản vô giá. Chúng cho phép các nhóm duy trì cái nhìn tổng quan rõ ràng về cảnh quan Amazon EKS của họ, tối ưu hóa việc sử dụng tài nguyên và đảm bảo các thực hành quản lý nhất quán trên các triển khai đa dạng. Việc triển khai các giải pháp này cho phép bạn thực hiện một bước tiến đáng kể trong việc quản lý khả năng quan sát, khả năng phục hồi và quản trị của các môi trường Amazon EKS của bạn. Đến lượt nó, điều này đảm bảo thành công lâu dài và khả năng mở rộng của các sáng kiến Kubernetes của bạn trên AWS.</p><p>Chúng tôi khuyến nghị thử cả hai giải pháp để bắt đầu tăng cường khả năng quan sát cluster EKS của bạn ngay hôm nay!</p><p><strong>Nguồn gốc:</strong> AWS Containers Blog
<strong>Ngày xuất bản:</strong> 12 tháng 3, 2025
<strong>Danh mục:</strong> Amazon EKS, AWS Health, Container Management, Kubernetes</p><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=/fcj_workshop/vi/3-blogstranslated/3.1-blog1/ title="Blog 1"><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=/fcj_workshop/vi/4-eventparticipated/ title="Các events đã tham gia" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/fcj_workshop/js/clipboard.min.js?1765302482></script><script src=/fcj_workshop/js/perfect-scrollbar.min.js?1765302482></script><script src=/fcj_workshop/js/perfect-scrollbar.jquery.min.js?1765302482></script><script src=/fcj_workshop/js/jquery.sticky.js?1765302482></script><script src=/fcj_workshop/js/featherlight.min.js?1765302482></script><script src=/fcj_workshop/js/highlight.pack.js?1765302482></script><script>hljs.initHighlightingOnLoad()</script><script src=/fcj_workshop/js/modernizr.custom-3.6.0.js?1765302482></script><script src=/fcj_workshop/js/learn.js?1765302482></script><script src=/fcj_workshop/js/hugo-learn.js?1765302482></script><link href=/fcj_workshop/mermaid/mermaid.css?1765302482 rel=stylesheet><script src=/fcj_workshop/mermaid/mermaid.js?1765302482></script><script>mermaid.initialize({startOnLoad:!0})</script><script>(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,(e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date),(i=t.createElement(n),a=t.getElementsByTagName(n)[0]),i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-158079754-2","auto"),ga("send","pageview")</script></body></html>